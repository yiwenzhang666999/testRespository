window.FsService={};(function(){var a=window.FsService;a.schemaCode=b(userObj.zqCode);a.save=function(d,c,e){$.ajax({url:"app/save.do",data:{data:JSON.stringify({tableName:d,xian:a.schemaCode,jsonStr:c})},type:"post",cache:false,dataType:"json",success:function(f){if(f.result=="success"){e.callback(f.data)}},error:function(f){if(f.responseText=="timeout"||f.status==0){mini.alert("当前用户失效，请重新登录！","温馨提示");window.location.href="logout.do"}e.exceptionHandler(f)}})};a.saveList=function(d,c,e){$.ajax({url:"app/saveList.do",data:{data:JSON.stringify({tableName:d,xian:a.schemaCode,jsonStr:c})},type:"post",cache:false,dataType:"json",success:function(f){if(f.result=="success"){e.callback(f.data)}},error:function(f){if(f.responseText=="timeout"||f.status==0){mini.alert("当前用户失效，请重新登录！","温馨提示");window.location.href="logout.do"}e.exceptionHandler(f)}})};a.update=function(c,d,e){$.ajax({url:"app/update.do",data:{data:JSON.stringify({tableName:c,xian:a.schemaCode,updateFilter:d})},type:"post",cache:false,dataType:"json",success:function(f){if(f.result=="success"){e.callback(f.data)}},error:function(f){if(f.responseText=="timeout"||f.status==0){mini.alert("当前用户失效，请重新登录！","温馨提示");window.location.href="logout.do"}e.exceptionHandler(f)}})};a.del=function(d,c,e){$.ajax({url:"app/del.do",data:{data:JSON.stringify({tableName:d,xian:a.schemaCode,queryFilter:c})},type:"post",cache:false,dataType:"json",success:function(f){if(f.result=="success"){e.callback(f.data)}},error:function(f){if(f.responseText=="timeout"||f.status==0){mini.alert("当前用户失效，请重新登录！","温馨提示");window.location.href="logout.do"}e.exceptionHandler(f)}})};a.pageSelect=function(d,c,e,f){$.ajax({url:"app/pageSelect.do",data:{data:JSON.stringify({tableName:d,xian:a.schemaCode,queryFilter:c,pageInfo:e})},type:"post",cache:false,dataType:"json",success:function(g){if(g.result=="success"){f.callback(g.data)}},error:function(g){if(g.responseText=="timeout"||g.status==0){mini.alert("当前用户失效，请重新登录！","温馨提示");window.location.href="logout.do"}else{f.exceptionHandler(g)}}})};a.getEntityList=function(c,d,e){$.ajax({url:"app/getEntityList.do",data:{data:JSON.stringify({tableName:c,xian:a.schemaCode,param:d})},type:"post",cache:false,dataType:"json",success:function(f){if(f.result=="success"){e.callback(f.data)}},error:function(f){if(f.responseText=="timeout"||f.status==0){mini.alert("当前用户失效，请重新登录！","温馨提示");window.location.href="logout.do"}else{e.exceptionHandler(f)}}})};a.getUniqueValue=function(d,e,c,f,g){$.ajax({url:"form/getUniqueValue.do",data:{data:JSON.stringify({tableName:d,uniqueField:e,addCaptionField:c,whereString:f})},type:"post",cache:false,dataType:"json",success:function(h){if(h.result=="success"){g.callback(h.data)}},error:function(h){if(h.responseText=="timeout"||h.status==0){mini.alert("当前用户失效，请重新登录！","温馨提示");window.location.href="logout.do"}g.exceptionHandler(h)}})};a.getNextAllChilds=function(d,c,e){$.ajax({url:"app/getNextAllChilds.do",data:{data:JSON.stringify({tableName:d,pid:c})},type:"post",cache:false,dataType:"json",success:function(f){if(f.result=="success"){e.callback(f.data)}},error:function(f){if(f.responseText=="timeout"||f.status==0){mini.alert("当前用户失效，请重新登录！","温馨提示");window.location.href="logout.do"}e.exceptionHandler(f)}})};a.getDataTableSql=function(c,d,e){$.ajax({url:"app/getDataTableSql.do",type:"POST",data:{data:JSON.stringify({xian:a.schemaCode,tableName:c,sql:d,para:[]})},success:function(f){if(f.result=="success"){e.callback(f.data)}},error:function(f){if(f.responseText=="timeout"||f.status==0){window.location.href="logout.do"}else{e.exceptionHandler(f)}}})};function b(c){if(c.indexOf("20000")==-1){return c.substring(0,2)}else{return"200000"}}})();